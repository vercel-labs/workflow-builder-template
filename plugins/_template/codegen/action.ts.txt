/**
 * CODE GENERATION TEMPLATE
 *
 * This template generates standalone code when users export their workflow.
 * The generated code uses environment variables instead of integrationId.
 *
 * Key differences from step.ts:
 * - Uses process.env.[VAR] instead of fetchCredentials()
 * - No integrationId parameter
 * - Simpler error handling (throw instead of return error objects)
 * - Same core logic and return structure
 *
 * Note: Escape backticks with backslash in template literals
 */

export const [actionName]CodegenTemplate = `import { [ClientName] } from '[package-name]';

export async function [actionName]Step(input: {
  fieldA: string;
  fieldB?: string;
}) {
  "use step";

  const apiKey = process.env.[INTEGRATION_NAME]_API_KEY;

  if (!apiKey) {
    throw new Error('[INTEGRATION_NAME]_API_KEY environment variable is required');
  }

  // Initialize client with API key from environment
  const client = new [ClientName](apiKey);

  // Your API call logic here
  const result = await client.doSomething({
    fieldA: input.fieldA,
    fieldB: input.fieldB,
  });

  return {
    success: true,
    id: result.id,
    // Include other relevant fields from the result
  };
}`;
